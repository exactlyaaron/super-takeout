{"version":3,"file":"orders.js","sources":["/Users/aaronjohnson/Documents/Code/super-takeout/app/static/js/es6/orders.es6.js"],"names":[],"mappings":"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","sourcesContent":["/* global ajax */\n/* jshint unused:false */\n\n(function(){\n  'use strict';\n\n  $(document).ready(init);\n\n  function init(){\n    $('body').on('change', '.menu', getMenu);\n    $('body').on('click', '#add', addItem);\n    $('body').on('click', '.remove', removeItem);\n\n    $('body').on('click', '#submit', placeOrder);\n\n    $('body').on('change', '.dish', changeTotal);\n    $('body').on('change', 'input', changeTotal);\n    $('body').on('blur', 'input', changeTotal);\n  }\n\n  function placeOrder(e){\n    $('#order').submit();\n    var userId = $('#user').attr('data-id');\n    // ajax(`/${userId}/history`, 'get', null, html=>{\n    //   console.log(html);\n    // });\n    e.preventDefault();\n  }\n\n  function changeTotal(){\n    var total = 0;\n    var itemCost = 0;\n    var array = $('.item').toArray();\n\n    array.forEach(i=>{\n      var element = $(i).find('.dish option:selected');\n\n      if(element.attr('data-cost')){\n        var price = element.attr('data-cost');\n        var qty = $(i).children().first().val() * 1;\n        itemCost = qty * price;\n\n        total = total + itemCost;\n        $(i).find('.item-cost p').text('$'+itemCost.toFixed(2));\n      }\n\n    });\n\n    $('#total').text('$'+total.toFixed(2));\n  }\n\n  function removeItem(e){\n    if($('.item').length > 1){\n      $(this).parent().parent().remove();\n    }\n    e.preventDefault();\n    changeTotal();\n  }\n\n  function addItem(){\n    var newItem = $('#order > .item:first-child').clone();\n    newItem.children().first().val(1);\n    newItem.find('.item-cost p').text('$0.00');\n    $('#order').append(newItem);\n  }\n\n  function getMenu(){\n    var menu = $(this).val();\n    var next = $(this).next();\n    ajax(`/dishes/${menu}`, 'get', null, html=>{\n      next.empty().append(html);\n    });\n  }\n\n})();\n"]}